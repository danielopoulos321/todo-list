(()=>{"use strict";const e=e=>{let t=e,n=[];return{getName:function(){return t},setName:function(e){t=e},pushTask:function(e,t,o,c){n.push(((e,t,n,o)=>{let c=e,d=t,a=n,r=o;return{getTitle:function(){return c},setTitle:function(e){c=e},getDescription:function(){return d},setDescription:function(e){d=e},getDueDate:function(){return a},setDueDate:function(e){a=e},getPriority:function(){return r},setPriority:function(e){r=e},toString:function(){return c+" "+d+" "+a+" "+r}}})(e,t,o,c))},getTasks:function(){return n},_name:t}},t=(()=>{let t=[];return t.push(e("Personal")),t.push(e("Work")),t.push(e("Travel")),{getProjects:function(){return t},getProject:function(e){return t.find((t=>t.getName()===e))},addProject:function(n){t.find((e=>e.getName()===n))||t.push(e(n))}}})(),n=function(){return JSON.parse(localStorage.getItem("todo")).map((e=>e._name))};function o(){!function(e){const t=document.getElementById("sidebar");""!==t.innerHTML&&(t.innerHTML="")}(),n().forEach((e=>{!function(e){const t=document.getElementById("sidebar"),n=document.createElement("button");n.classList.add("project"),n.textContent=e,n.dataset.name=e.replace(/\s/g,""),n.addEventListener("click",(e=>{c(e),d(e.target.textContent)})),t.appendChild(n)}(e)})),function(){const e=document.getElementById("sidebar"),t=document.createElement("button");t.textContent="+ Project",t.addEventListener("click",(()=>{document.getElementById("projectModal").style.display="block"})),e.appendChild(t)}()}function c(e){const t=document.querySelectorAll(".project");if(t.forEach((e=>e.classList.remove("active"))),"personal"==e)t[0].classList.add("active");else if("string"==typeof e){let t=e.replace(/\s/g,"");document.querySelector(`[data-name=${t}]`).classList.add("active")}else e.target.classList.add("active")}function d(e){const n=document.getElementById("content");n.innerHTML="",t.getProject(e).getTasks().forEach((e=>{const t=document.createElement("div");t.classList.add("task");const o=document.createElement("h1"),c=document.createElement("h3"),d=document.createElement("p"),a=document.createElement("p");o.textContent=e.getTitle(),c.textContent=e.getDueDate(),d.textContent=e.getDescription(),a.textContent=e.getPriority(),t.appendChild(o),t.appendChild(c),t.appendChild(d),t.appendChild(a),n.appendChild(t)}))}document.getElementById("projectForm").addEventListener("submit",(function(e){e.preventDefault();let n=document.getElementById("projectName");t.addProject(n.value),o(),c(n.value),i("project")})),document.getElementById("taskForm").addEventListener("submit",(function(e){e.preventDefault();let n=document.getElementById("taskName").value,o=document.getElementById("taskNotes").value,c=document.getElementById("taskDate").value,a=document.getElementById("priority").value;const r=document.querySelector(".active").textContent;t.getProject(r).pushTask(n,o,c,a),d(r),i("task")}));const a=document.getElementById("projectClose"),r=document.getElementById("taskClose");function s(e){const t=document.getElementById(`${e}Modal`);"block"==t.style.display?t.style.display="none":t.style.display="block"}function i(e){s(e),document.getElementById(`${e}Form`).reset()}a.addEventListener("click",(()=>s("project"))),r.addEventListener("click",(()=>s("task"))),o(),c("personal"),d("Personal"),function(){const e=document.getElementById("header"),t=document.createElement("button");t.textContent="+ To-Do",t.addEventListener("click",(()=>{document.getElementById("taskModal").style.display="block"})),e.appendChild(t)}()})();