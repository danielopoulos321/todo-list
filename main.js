(()=>{"use strict";const e=e=>{let t=e,n=[];return{getName:function(){return t},setName:function(e){t=e},pushTask:function(e,t,o,c){n.push(((e,t,n,o)=>{let c=e,d=t,a=n,r=o;return{getTitle:function(){return c},setTitle:function(e){c=e},getDescription:function(){return d},setDescription:function(e){d=e},getDueDate:function(){return a},setDueDate:function(e){a=e},getPriority:function(){return r},setPriority:function(e){r=e},toString:function(){return c+" "+d+" "+a+" "+r}}})(e,t,o,c))},getTasks:function(){return n}}},t=(()=>{let t=[];return t.push(e("Personal")),t.push(e("Work")),t.push(e("Travel")),{getProjects:function(){return t},getProject:function(e){return t.find((t=>t.getName()===e))},addProject:function(n){t.find((e=>e.getName()===n))||t.push(e(n))}}})();function n(){!function(e){const t=document.getElementById("sidebar");""!==t.innerHTML&&(t.innerHTML="")}(),t.getProjects().forEach((e=>{!function(e){const t=document.getElementById("sidebar"),n=document.createElement("button");n.classList.add("project"),n.textContent=e,n.dataset.name=e.replace(/\s/g,""),n.addEventListener("click",(e=>{o(e),c(e.target.textContent)})),t.appendChild(n)}(e.getName())})),function(){const e=document.getElementById("sidebar"),t=document.createElement("button");t.textContent="+ Project",t.addEventListener("click",(()=>{document.getElementById("projectModal").style.display="block"})),e.appendChild(t)}()}function o(e){const t=document.querySelectorAll(".project");if(t.forEach((e=>e.classList.remove("active"))),"personal"==e)t[0].classList.add("active");else if("string"==typeof e){let t=e.replace(/\s/g,"");document.querySelector(`[data-name=${t}]`).classList.add("active")}else e.target.classList.add("active")}function c(e){const n=document.getElementById("content");n.innerHTML="",t.getProject(e).getTasks().forEach((e=>{const t=document.createElement("div");t.classList.add("task");const o=document.createElement("h1"),c=document.createElement("h3"),d=document.createElement("p"),a=document.createElement("p");o.textContent=e.getTitle(),c.textContent=e.getDueDate(),d.textContent=e.getDescription(),a.textContent=e.getPriority(),t.appendChild(o),t.appendChild(c),t.appendChild(d),t.appendChild(a),n.appendChild(t)}))}document.getElementById("projectForm").addEventListener("submit",(function(e){e.preventDefault();let c=document.getElementById("projectName");t.addProject(c.value),n(),o(c.value),s("project")})),document.getElementById("taskForm").addEventListener("submit",(function(e){e.preventDefault();let n=document.getElementById("taskName").value,o=document.getElementById("taskNotes").value,d=document.getElementById("taskDate").value,a=document.getElementById("priority").value;const r=document.querySelector(".active").textContent;t.getProject(r).pushTask(n,o,d,a),c(r),s("task")}));const d=document.getElementById("projectClose"),a=document.getElementById("taskClose");function r(e){const t=document.getElementById(`${e}Modal`);"block"==t.style.display?t.style.display="none":t.style.display="block"}function s(e){r(e),document.getElementById(`${e}Form`).reset()}d.addEventListener("click",(()=>r("project"))),a.addEventListener("click",(()=>r("task"))),n(),o("personal"),c("Personal"),function(){const e=document.getElementById("header"),t=document.createElement("button");t.textContent="+ To-Do",t.addEventListener("click",(()=>{document.getElementById("taskModal").style.display="block"})),e.appendChild(t)}()})();